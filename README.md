# 跳跃游戏 - Jumping Game

基于 EasyX 图形库开发的功能丰富的纵向跳跃小游戏，具有完整的音效系统、道具系统、障碍物系统和简单风格的UI设计。

## 项目结构

```text
Jumping/
├── main.cpp                # 主程序文件（游戏核心逻辑）
├── Player.h/.cpp          # 玩家类（角色控制、道具效果、粒子系统）
├── Platform.h/.cpp        # 平台类（平台生成、道具、障碍物、金币）
├── AudioManager.h/.cpp    # 音频管理器（背景音乐、音效）
├── Theme.h/.cpp          # 主题色彩系统（极简冷淡风格）
├── sounds/               # 音效文件目录
│   ├── background_music.mp3
│   ├── menu_music.mp3
│   ├── jump.mp3
│   ├── coin.mp3
│   ├── item.mp3
│   └── ... (更多音效文件)
├── JumpingGame.vcxproj   # Visual Studio 项目文件
├── JumpingGame.sln       # Visual Studio 解决方案文件
├── .vscode/              # VS Code 配置
└── README.md             # 项目说明
```

## 核心特性

### 🎮 游戏机制

- **纵向跳跃玩法**: 向上无限跳跃，挑战最高高度
- **动态难度系统**: 根据高度和时间自动调整平台间距和障碍物密度
- **连击系统**: 连续跳跃到更高平台可获得额外分数
- **生命系统**: 玩家拥有3点生命值，受伤后可恢复
- **护盾复活**: 拥有护盾时死亡可复活到最后安全平台

### 🎵 音效系统

- **背景音乐**: 菜单和游戏中的背景音乐
- **音效**: 跳跃、着陆、道具收集、障碍物碰撞等完整音效
- **音量控制**: 主音量、音乐音量、音效音量独立调节
- **音频开关**: 支持静音功能

### 🎨 视觉设计

- **极简风格**: 采用冷蓝灰色系的现代简约设计
- **粒子效果**: 道具收集、护盾激活、屏幕震动等特效
- **背景滚动**: 多层背景营造深度感

### 🏗️ 平台系统

- **普通平台**: 稳定的跳跃平台
- **移动平台**: 左右移动的平台
- **易碎平台**: 踩踏后会破碎的平台
- **弹簧平台**: 提供额外跳跃力的平台

### 🎁 道具系统

- **速度提升**: 增加移动速度5秒
- **护盾**: 防止伤害并支持复活
- **额外跳跃**: 启用三段跳10秒
- **时间减缓**: 减慢时间流逝便于操作
- **磁场**: 自动吸引附近金币
- **生命恢复**: 立即恢复2点生命值
- **冻结障碍**: 冻结所有障碍物10秒
- **无敌状态**: 临时免疫所有伤害
- **金币**: 收集金币获得分数

### 🚧 障碍物系统

- **尖刺**: 静态地面危险物 (1点伤害)
- **火球**: 从天而降的火球 (2点伤害)
- **激光**: 水平移动的激光 (3点伤害)
- **旋转锯**: 原地旋转的锯片 (2点伤害)
- **落石**: 加速下降的岩石 (1点伤害)
- **移动墙**: 横向滑动的墙壁 (1点伤害)

## 游戏控制

### 基本控制

- **A/D键 或 左右箭头**: 控制角色移动
- **空格键**: 跳跃（支持二段跳，有道具时支持三段跳）
- **P键**: 暂停/恢复游戏
- **ESC键**: 退出游戏/返回菜单

### 菜单控制

- **空格键**: 开始游戏
- **H键**: 打开帮助页面
- **V键**: 音频设置
- **鼠标**: 点击按钮交互

### 帮助页面控制

- **上/下箭头**: 滚动帮助内容
- **Page Up/Page Down**: 快速滚动
- **退格键**: 返回菜单

## 编译和运行

### 环境要求

- Windows 10/11 操作系统
- Visual Studio 2022 (推荐) 或 MinGW-w64
- EasyX 图形库 (需安装在 `D:\Desktop\EasyXlib\` 目录)

### 编译步骤

#### 使用 Visual Studio

1. 打开 `JumpingGame.sln` 解决方案文件
2. 确保 EasyX 库路径正确配置
3. 选择 Debug 或 Release 配置
4. 按 F5 编译并运行

### 库依赖

- EasyX图形库
- Windows多媒体库 (winmm.lib)
- 其他Windows系统库

## 游戏系统详解

### 分数系统

- **高度奖励**: 到达更高位置获得分数
- **连击奖励**: 连续跳跃到更高平台的连击分数
- **道具奖励**: 收集道具获得额外分数
- **金币奖励**: 每个金币价值10分
- **时间奖励**: 生存时间越长分数越高

### 难度系统

- **时间难度**: 随游戏时间增加，平台间距逐渐增大
- **高度难度**: 到达更高位置后，障碍物密度增加
- **动态调整**: 根据玩家表现自动调整难度曲线
- **速度增长**: 世界移动速度和相机跟随速度逐渐提升

### 性能优化

- **对象池**: 平台、障碍物、粒子的高效管理
- **视锥剔除**: 只渲染屏幕可见区域的对象
- **内存管理**: 及时清理超出屏幕的对象
- **帧率控制**: 稳定60FPS的游戏体验

## 开发历程

### 当前版本：v1.0.0

### 🚀 未来计划

- [ ] 成就系统和统计数据
- [ ] 本地排行榜
- [ ] 更多道具类型
- [ ] 关卡模式
- [ ] 自定义主题

## 技术架构

### 核心类结构

- **Game**: 游戏主控制器，状态管理
- **Player**: 玩家角色，物理模拟，道具效果
- **Platform**: 平台生成，道具管理，障碍物
- **AudioManager**: 音频管理，单例模式
- **Theme**: 颜色主题，UI风格统一

### 设计模式

- **单例模式**: AudioManager 全局音频管理
- **状态模式**: GameState 游戏状态切换
- **工厂模式**: Platform 和 Obstacle 生成
- **观察者模式**: 事件系统和音效触发

### 渲染系统

- **双缓冲**: 防止画面闪烁
- **批量渲染**: 优化渲染性能
- **层次渲染**: 背景、平台、玩家、UI分层
- **屏幕震动**: 动态相机效果